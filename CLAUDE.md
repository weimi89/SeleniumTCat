<!-- OPENSPEC:START -->
# OpenSpec Instructions

These instructions are for AI assistants working in this project.

Always open `@/openspec/AGENTS.md` when the request:
- Mentions planning or proposals (words like proposal, spec, change, plan)
- Introduces new capabilities, breaking changes, architecture shifts, or big performance/security work
- Sounds ambiguous and you need the authoritative spec before coding

Use `@/openspec/AGENTS.md` to learn:
- How to create and apply change proposals
- Spec format and conventions
- Project structure and guidelines

Keep this managed block so 'openspec update' can refresh the instructions.

<!-- OPENSPEC:END -->

# CLAUDE.md

é€™å€‹æª”æ¡ˆç‚º Claude Code (claude.ai/code) åœ¨æ­¤å„²å­˜åº«å·¥ä½œæ™‚æä¾›æŒ‡å°ã€‚

## å°ˆæ¡ˆæ¦‚è¿°

é€™æ˜¯ä¸€å€‹é»‘è²“å®…æ€¥ä¾¿ (çµ±ä¸€é€Ÿé”) è‡ªå‹•åŒ–å·¥å…·å¥—ä»¶ï¼Œä½¿ç”¨ Selenium è‡ªå‹•å¾é»‘è²“å®…æ€¥ä¾¿ç¶²é ç³»çµ±ä¸‹è¼‰å„ç¨®è³‡æ–™ã€‚æ”¯æ´è²¨åˆ°ä»˜æ¬¾åŒ¯æ¬¾æ˜ç´°æŸ¥è©¢ã€é‹è²»(å°å¸³å–®æ˜ç´°)æŸ¥è©¢ï¼Œä»¥åŠäº¤æ˜“æ˜ç´°è¡¨ä¸‹è¼‰ã€‚è©²å·¥å…·æ¡ç”¨ç¾ä»£åŒ–çš„æ¨¡çµ„åŒ–æ¶æ§‹ï¼Œä½¿ç”¨æŠ½è±¡åŸºç¤é¡åˆ¥è¨­è¨ˆï¼Œæ˜“æ–¼æ“´å±•æ–°åŠŸèƒ½ã€‚

**åŸæœ¬æ˜¯ WEDI (å®…é…é€š) ç³»çµ±ï¼Œç¾å·²æ”¹ç‚ºé»‘è²“å®…æ€¥ä¾¿ç³»çµ±ã€‚**

## å°ˆæ¡ˆçµæ§‹

```
SeleniumTCat/
â”œâ”€â”€ src/                          # æ‰€æœ‰ Python åŸå§‹ç¢¼
â”‚   â”œâ”€â”€ core/                     # æ ¸å¿ƒæ¨¡çµ„
â”‚   â”‚   â”œâ”€â”€ base_scraper.py       # åŸºç¤çˆ¬èŸ²é¡åˆ¥
â”‚   â”‚   â”œâ”€â”€ multi_account_manager.py  # å¤šå¸³è™Ÿç®¡ç†å™¨
â”‚   â”‚   â””â”€â”€ browser_utils.py      # ç€è¦½å™¨åˆå§‹åŒ–å·¥å…·
â”‚   â”œâ”€â”€ scrapers/                 # å…·é«”å¯¦ä½œçš„çˆ¬èŸ²
â”‚   â”‚   â”œâ”€â”€ payment_scraper.py    # è²¨åˆ°ä»˜æ¬¾æŸ¥è©¢å·¥å…·
â”‚   â”‚   â”œâ”€â”€ freight_scraper.py    # é‹è²»æŸ¥è©¢å·¥å…·
â”‚   â”‚   â””â”€â”€ unpaid_scraper.py     # äº¤æ˜“æ˜ç´°è¡¨å·¥å…·
â”‚   â””â”€â”€ utils/                    # å·¥å…·æ¨¡çµ„
â”‚       â””â”€â”€ windows_encoding_utils.py  # Windows ç›¸å®¹æ€§å·¥å…·
â”œâ”€â”€ scripts/                      # å…±ç”¨è…³æœ¬
â”‚   â”œâ”€â”€ common_checks.ps1         # PowerShell å…±ç”¨æª¢æŸ¥å‡½æ•¸
â”‚   â”œâ”€â”€ common_checks.sh          # Shell å…±ç”¨æª¢æŸ¥å‡½æ•¸
â”‚   â””â”€â”€ common_checks.cmd         # CMD å…±ç”¨æª¢æŸ¥å‡½æ•¸
â”œâ”€â”€ Linux_å®¢æ¨‚å¾—å°å¸³å–®.sh          # Linux è²¨åˆ°ä»˜æ¬¾åŸ·è¡Œè…³æœ¬
â”œâ”€â”€ Linux_ç™¼ç¥¨æ˜ç´°.sh             # Linux é‹è²»æŸ¥è©¢åŸ·è¡Œè…³æœ¬
â”œâ”€â”€ Linux_å®¢æˆ¶äº¤æ˜“æ˜ç´°.sh          # Linux äº¤æ˜“æ˜ç´°è¡¨åŸ·è¡Œè…³æœ¬
â”œâ”€â”€ Linux_å®‰è£.sh                # Linux è‡ªå‹•å®‰è£è…³æœ¬
â”œâ”€â”€ Linux_æ›´æ–°.sh                # Linux è‡ªå‹•æ›´æ–°è…³æœ¬
â”œâ”€â”€ Windows_å®¢æ¨‚å¾—å°å¸³å–®.cmd       # Windows è²¨åˆ°ä»˜æ¬¾åŸ·è¡Œè…³æœ¬
â”œâ”€â”€ Windows_ç™¼ç¥¨æ˜ç´°.cmd          # Windows é‹è²»æŸ¥è©¢åŸ·è¡Œè…³æœ¬
â”œâ”€â”€ Windows_å®¢æˆ¶äº¤æ˜“æ˜ç´°.cmd       # Windows äº¤æ˜“æ˜ç´°è¡¨åŸ·è¡Œè…³æœ¬
â”œâ”€â”€ Windows_å®‰è£.cmd             # Windows è‡ªå‹•å®‰è£è…³æœ¬
â”œâ”€â”€ Windows_æ›´æ–°.cmd             # Windows è‡ªå‹•æ›´æ–°è…³æœ¬
â”œâ”€â”€ PowerShell_å®¢æ¨‚å¾—å°å¸³å–®.ps1    # PowerShell è²¨åˆ°ä»˜æ¬¾åŸ·è¡Œè…³æœ¬
â”œâ”€â”€ PowerShell_ç™¼ç¥¨æ˜ç´°.ps1       # PowerShell é‹è²»æŸ¥è©¢åŸ·è¡Œè…³æœ¬
â”œâ”€â”€ PowerShell_å®¢æˆ¶äº¤æ˜“æ˜ç´°.ps1    # PowerShell äº¤æ˜“æ˜ç´°è¡¨åŸ·è¡Œè…³æœ¬
â”œâ”€â”€ PowerShell_å®‰è£.ps1          # PowerShell è‡ªå‹•å®‰è£è…³æœ¬
â”œâ”€â”€ PowerShell_æ›´æ–°.ps1          # PowerShell è‡ªå‹•æ›´æ–°è…³æœ¬
â”œâ”€â”€ accounts.json                 # å¸³è™Ÿè¨­å®šæª”
â”œâ”€â”€ accounts.json.example         # å¸³è™Ÿè¨­å®šæª”ç¯„ä¾‹
â”œâ”€â”€ pyproject.toml               # Python å°ˆæ¡ˆè¨­å®š
â””â”€â”€ uv.lock                      # é–å®šä¾è³´ç‰ˆæœ¬
```

## æ ¸å¿ƒæ¶æ§‹

### åŸºç¤æ¨¡çµ„ (src/core/)

1. **BaseScraper** (`src/core/base_scraper.py`): æ ¸å¿ƒåŸºç¤é¡åˆ¥
   - è™•ç† Chrome WebDriver ç€è¦½å™¨åˆå§‹åŒ–å’Œç®¡ç†
   - ç®¡ç†ç™»å…¥æµç¨‹ï¼Œæ•´åˆ ddddocr è‡ªå‹•é©—è­‰ç¢¼è­˜åˆ¥
   - å¯¦ä½œåŸºæœ¬çš„å°èˆªæµç¨‹ï¼ˆå¥‘ç´„å®¢æˆ¶å°ˆå€ â†’ æŸ¥è©¢é é¢ï¼‰
   - æä¾›å…±ç”¨çš„ç€è¦½å™¨ç®¡ç†å’Œé€£æ¥ç®¡ç†åŠŸèƒ½

2. **MultiAccountManager** (`src/core/multi_account_manager.py`): å¤šå¸³è™Ÿç®¡ç†å™¨
   - è®€å–å’Œè§£æ `accounts.json` è¨­å®šæª”
   - æ”¯æ´å¤šå¸³è™Ÿæ‰¹æ¬¡è™•ç†
   - ç”¢ç”Ÿæ•´åˆçš„ç¸½çµå ±å‘Š
   - æä¾›ä¾è³´æ³¨å…¥æ¨¡å¼æ”¯æ´ä¸åŒçš„æŠ“å–å™¨é¡åˆ¥

3. **browser_utils.py** (`src/core/browser_utils.py`): Chrome ç€è¦½å™¨åˆå§‹åŒ–å·¥å…·
   - è·¨å¹³å° Chrome WebDriver è¨­å®šå’Œå•Ÿå‹•
   - æ”¯æ´ç„¡é ­æ¨¡å¼å’Œè¦–çª—æ¨¡å¼
   - è‡ªå‹•è™•ç† ChromeDriver ç‰ˆæœ¬å’Œè·¯å¾‘å•é¡Œ

### å·¥å…·æ¨¡çµ„ (src/utils/)

1. **windows_encoding_utils.py**: Windows ç·¨ç¢¼ç›¸å®¹æ€§è™•ç†
   - æä¾› `safe_print()` å‡½æ•¸ï¼Œå°‡ Unicode å­—ç¬¦è½‰æ›ç‚ºç´”æ–‡å­—
   - æ”¯æ´è·¨å¹³å° Unicode å­—ç¬¦é¡¯ç¤º
   - è‡ªå‹•æª¢æŸ¥å’Œæé†’ PYTHONUNBUFFERED ç’°å¢ƒè®Šæ•¸è¨­å®š

### çˆ¬èŸ²å¯¦ä½œ (src/scrapers/)

æœ¬å°ˆæ¡ˆåŒ…å«ä¸‰å€‹å°ˆé–€çš„çˆ¬èŸ²å·¥å…·ï¼Œå„è‡ªé‡å°ä¸åŒçš„é»‘è²“å®…æ€¥ä¾¿åŠŸèƒ½é€²è¡Œå„ªåŒ–ï¼š

1. **PaymentScraper** (`src/scrapers/payment_scraper.py`): å®¢æ¨‚å¾—å°å¸³å–®æŸ¥è©¢å·¥å…·
   - **åŠŸèƒ½**: ä¸‹è¼‰è²¨åˆ°ä»˜æ¬¾åŒ¯æ¬¾æ˜ç´°ï¼ˆå®¢æ¨‚å¾—å°å¸³å–®ï¼‰
   - **ç¹¼æ‰¿**: BaseScraper å¯¦ä½œè²¨åˆ°ä»˜æ¬¾åŒ¯æ¬¾æ˜ç´°æŸ¥è©¢
   - **ç‰¹è‰²**: è‡ªå‹•é¸æ“‡æœ€æ–°ä¸€æœŸçµç®—å€é–“ï¼Œç„¡éœ€æ‰‹å‹•æŒ‡å®šæ—¥æœŸç¯„åœ
   - **é€±æœŸè¨­å®š**: æ”¯æ´å‘½ä»¤åˆ— `--period` åƒæ•¸æŒ‡å®šä¸‹è¼‰æœŸæ•¸ï¼Œé è¨­ 2 æœŸ
   - **æª”æ¡ˆå‘½å**: `{å¸³è™Ÿ}_{payment_no}.xlsx`
   - **ä¸‹è¼‰æ–¹å¼**: é»æ“Šé€£çµä¸‹è¼‰ Excel æª”æ¡ˆ

2. **FreightScraper** (`src/scrapers/freight_scraper.py`): é‹è²»æŸ¥è©¢å·¥å…·
   - **åŠŸèƒ½**: ä¸‹è¼‰å°å¸³å–®æ˜ç´° (é‹è²»ç›¸é—œ)
   - **ç¹¼æ‰¿**: BaseScraper å¯¦ä½œå°å¸³å–®æ˜ç´°æŸ¥è©¢
   - **æ—¥æœŸæ ¼å¼**: æ”¯æ´æ—¥æœŸç¯„åœæŸ¥è©¢ï¼ˆYYYYMMDD æ ¼å¼ï¼‰
   - **é è¨­ç¯„åœ**: ä¸Šå€‹æœˆ
   - **æœå°‹ç›®æ¨™**: é€Ÿé”æ‡‰ä»˜å¸³æ¬¾æŸ¥è©¢ç›¸é—œé …ç›®
   - **æª”æ¡ˆå‘½å**: `{å¸³è™Ÿ}_{ç™¼ç¥¨æ—¥æœŸ}_{ç™¼ç¥¨è™Ÿç¢¼}.xlsx`
   - **ä¸‹è¼‰æ–¹å¼**: ä½¿ç”¨ AJAX æœå°‹å¾Œä¸‹è¼‰æ˜ç´°

3. **UnpaidScraper** (`src/scrapers/unpaid_scraper.py`): äº¤æ˜“æ˜ç´°è¡¨å·¥å…·
   - **åŠŸèƒ½**: ä¸‹è¼‰äº¤æ˜“æ˜ç´°è¡¨
   - **ç¹¼æ‰¿**: BaseScraper å¯¦ä½œäº¤æ˜“æ˜ç´°è¡¨æŸ¥è©¢
   - **é€±æœŸæœå°‹**: æ”¯æ´é€±æœŸæœå°‹æ–¹å¼ï¼Œé è¨­ 2 æœŸï¼ˆ1é€±1å€‹æª”æ¡ˆï¼‰
   - **æª”æ¡ˆå‘½å**: `{å¸³è™Ÿ}_{é–‹å§‹æ—¥æœŸ}_{çµæŸæ—¥æœŸ}.xlsx`
   - **ä¸‹è¼‰æ–¹å¼**: åŸ·è¡Œ AJAX æœå°‹è«‹æ±‚å¾Œä¸‹è¼‰
   - **ç‰¹è‰²**: æ”¯æ´ `--periods` åƒæ•¸æŒ‡å®šè¦ä¸‹è¼‰çš„é€±æœŸæ•¸é‡

### é—œéµæŠ€è¡“ç´°ç¯€

- **ddddocr é©—è­‰ç¢¼è­˜åˆ¥**: æ•´åˆ ddddocr å‡½å¼åº«è‡ªå‹•è­˜åˆ¥é»‘è²“å®…æ€¥ä¾¿ç™»å…¥é é¢çš„é©—è­‰ç¢¼ï¼Œå¤§å¹…æå‡è‡ªå‹•åŒ–æˆåŠŸç‡ã€‚
- **æœ€æ–°çµç®—æœŸé–“**: PaymentScraper è‡ªå‹•é¸æ“‡æœ€æ–°ä¸€æœŸçš„çµç®—å€é–“ï¼ŒUnpaidScraper æ”¯æ´å¤šé€±æœŸæœå°‹ã€‚
- **AJAX è™•ç†**: FreightScraper å’Œ UnpaidScraper æ”¯æ´ AJAX æœå°‹è«‹æ±‚è™•ç†ã€‚
- **è·¨å¹³å° Chrome æ”¯æ´**: ä½¿ç”¨ `.env` æª”æ¡ˆè¨­å®š Chrome åœ¨ macOSã€Windows å’Œ Linux ç³»çµ±çš„åŸ·è¡Œæª”è·¯å¾‘ã€‚
- **ç¾ä»£ Python ç®¡ç†**: ä½¿ç”¨ uv é€²è¡Œå¿«é€Ÿä¾è³´ç®¡ç†å’Œè™›æ“¬ç’°å¢ƒè™•ç†ã€‚
- **å¥‘ç´„å®¢æˆ¶å°ˆå€**: å°ˆç‚ºé»‘è²“å®…æ€¥ä¾¿å¥‘ç´„å®¢æˆ¶è¨­è¨ˆï¼Œè‡ªå‹•é¸æ“‡æ­£ç¢ºçš„ç™»å…¥æ¨¡å¼ã€‚

### èˆŠç‰ˆ WEDI ç³»çµ±ç‰¹é»ï¼ˆåƒè€ƒç”¨ï¼‰
- **iframe å°èˆª**: å·¥å…·åœ¨ WEDI ç³»çµ±çš„å·¢ç‹€ iframe ä¸­å°èˆªã€‚
- **éæ¿¾é‚è¼¯**: åªä¸‹è¼‰åŒæ™‚åŒ…å«ã€Œä»£æ”¶è²¨æ¬¾ã€å’Œã€ŒåŒ¯æ¬¾æ˜ç´°ã€é—œéµå­—çš„é …ç›®ã€‚
- **æ—¥æœŸç¯„åœå½ˆæ€§**: æ”¯æ´å‘½ä»¤åˆ—æ—¥æœŸåƒæ•¸ï¼ˆ`--start-date`ã€`--end-date`ï¼‰ã€‚

## é–‹ç™¼æŒ‡ä»¤

### è¨­å®šå’Œå®‰è£
```bash
# å®‰è£ uvï¼ˆå¦‚æœå°šæœªå®‰è£ï¼‰
curl -LsSf https://astral.sh/uv/install.sh | sh  # macOS/Linux
# powershell -c "irm https://astral.sh/uv/install.ps1 | iex"  # Windows

# å»ºç«‹ä¸¦å•Ÿå‹•è™›æ“¬ç’°å¢ƒåŠå®‰è£ä¾è³´
uv sync

# æˆ–æ‰‹å‹•å»ºç«‹ç’°å¢ƒä¸¦å®‰è£ä¾è³´
uv venv
source .venv/bin/activate  # macOS/Linux
# .venv\Scripts\activate   # Windows
uv sync  # ä½¿ç”¨ pyproject.toml ç®¡ç†ä¾è³´
```

### åŸ·è¡Œé»‘è²“å®…æ€¥ä¾¿å·¥å…·

#### å®¢æ¨‚å¾—å°å¸³å–®ï¼ˆè²¨åˆ°ä»˜æ¬¾æŸ¥è©¢ï¼‰
```bash
# Windows ä½¿ç”¨è€…ï¼ˆæ¨è–¦ï¼‰ï¼š
Windows_å®¢æ¨‚å¾—å°å¸³å–®.cmd

# Linux/macOS ä½¿ç”¨è€…ï¼š
./Linux_å®¢æ¨‚å¾—å°å¸³å–®.sh

# æŒ‡å®šä¸‹è¼‰æœŸæ•¸
Windows_å®¢æ¨‚å¾—å°å¸³å–®.cmd --period 3  # Windows
./Linux_å®¢æ¨‚å¾—å°å¸³å–®.sh --period 3  # Linux/macOS

# ç„¡é ­æ¨¡å¼
Windows_å®¢æ¨‚å¾—å°å¸³å–®.cmd --headless  # Windows
./Linux_å®¢æ¨‚å¾—å°å¸³å–®.sh --headless  # Linux/macOS
```

#### é‹è²»æŸ¥è©¢ï¼ˆç™¼ç¥¨æ˜ç´°ï¼‰
```bash
# Windows ä½¿ç”¨è€…ï¼š
Windows_ç™¼ç¥¨æ˜ç´°.cmd

# Linux/macOS ä½¿ç”¨è€…ï¼š
./Linux_ç™¼ç¥¨æ˜ç´°.sh

# æŒ‡å®šæ—¥æœŸç¯„åœ
Windows_ç™¼ç¥¨æ˜ç´°.cmd --start-date 20241201 --end-date 20241208  # Windows
./Linux_ç™¼ç¥¨æ˜ç´°.sh --start-date 20241201 --end-date 20241208  # Linux/macOS
```

#### äº¤æ˜“æ˜ç´°è¡¨æŸ¥è©¢
```bash
# Windows ä½¿ç”¨è€…ï¼š
Windows_å®¢æˆ¶äº¤æ˜“æ˜ç´°.cmd

# Linux/macOS ä½¿ç”¨è€…ï¼š
./Linux_å®¢æˆ¶äº¤æ˜“æ˜ç´°.sh

# æŒ‡å®šé€±æœŸæ•¸é‡
Windows_å®¢æˆ¶äº¤æ˜“æ˜ç´°.cmd --periods 3  # Windows
./Linux_å®¢æˆ¶äº¤æ˜“æ˜ç´°.sh --periods 3  # Linux/macOS
```

### æ‰‹å‹•åŸ·è¡Œï¼ˆéœ€è¦å…ˆè¨­å®šç’°å¢ƒè®Šæ•¸ï¼‰
```bash
# å®¢æ¨‚å¾—å°å¸³å–®ï¼ˆè²¨åˆ°ä»˜æ¬¾æŸ¥è©¢ï¼‰
PYTHONPATH="$(pwd)" uv run python -u src/scrapers/payment_scraper.py

# é‹è²»æŸ¥è©¢ï¼ˆç™¼ç¥¨æ˜ç´°ï¼‰
PYTHONPATH="$(pwd)" uv run python -u src/scrapers/freight_scraper.py

# äº¤æ˜“æ˜ç´°è¡¨æŸ¥è©¢
PYTHONPATH="$(pwd)" uv run python -u src/scrapers/unpaid_scraper.py

# Windows ä½¿ç”¨è€…è¨­å®šï¼š
# set PYTHONPATH=%cd%
# uv run python -u src\scrapers\payment_scraper.py
# uv run python -u src\scrapers\freight_scraper.py
# uv run python -u src\scrapers\unpaid_scraper.py
```

### è¨­å®šæª”æ¡ˆ

- **pyproject.toml**: ç¾ä»£ Python å°ˆæ¡ˆè¨­å®šï¼ŒåŒ…å«ä¾è³´å’Œ uv è¨­å®š
- **accounts.json**: åŒ…å«å¸³è™Ÿæ†‘è­‰å’Œè¨­å®šï¼ˆâš ï¸ ä¸æœƒè¢« Git è¿½è¹¤ï¼‰
  - `enabled: true/false` æ§åˆ¶è¦è™•ç†å“ªäº›å¸³è™Ÿ
  - `settings.headless` å’Œ `settings.download_base_dir` ç‚ºå…¨åŸŸè¨­å®š
  - **é‡è¦**ï¼šè«‹åƒè€ƒ `accounts.json.example` å»ºç«‹æ­¤æª”æ¡ˆ
  - **å®‰å…¨æé†’**ï¼šåˆ‡å‹¿å°‡çœŸå¯¦å¯†ç¢¼æäº¤åˆ° Git

- **.env**: Chrome åŸ·è¡Œæª”è·¯å¾‘è¨­å®šï¼ˆå¾ `.env.example` å»ºç«‹ï¼‰
  ```
  CHROME_BINARY_PATH="/Applications/Google Chrome.app/Contents/MacOS/Google Chrome"
  ```

### å®‰å…¨æ³¨æ„äº‹é …

- `accounts.json` å·²åŠ å…¥ `.gitignore`ï¼Œä¸æœƒè¢« Git è¿½è¹¤
- è«‹å®šæœŸæ›´æ”¹å¯†ç¢¼ï¼Œç¢ºä¿å¸³è™Ÿå®‰å…¨
- åˆ‡å‹¿åœ¨å…¬é–‹å ´æ‰€æˆ–æ–‡ä»¶ä¸­æš´éœ²çœŸå¯¦å¯†ç¢¼
- å»ºè­°ä½¿ç”¨å¼·å¯†ç¢¼ä¸¦å•Ÿç”¨é›™å› ç´ èªè­‰ï¼ˆå¦‚æœæ”¯æ´ï¼‰

## è¼¸å‡ºçµæ§‹

- **downloads/**: æŒ‰å¸³è™Ÿä¸‹è¼‰çš„ Excel æª”æ¡ˆ
  - è²¨åˆ°ä»˜æ¬¾ï¼š`å®¢æ¨‚å¾—å°å¸³å–®_{å¸³è™Ÿ}_{çµç®—æœŸé–“}.xlsx`
  - é‹è²»å°å¸³å–®ï¼š`ç™¼ç¥¨æ˜ç´°_{å¸³è™Ÿ}_{ç™¼ç¥¨æ—¥æœŸ}_{ç™¼ç¥¨è™Ÿç¢¼}.xlsx`
  - äº¤æ˜“æ˜ç´°è¡¨ï¼š`äº¤æ˜“æ˜ç´°è¡¨_{å¸³è™Ÿ}_{é–‹å§‹æ—¥æœŸ}-{çµæŸæ—¥æœŸ}.xlsx`
- **reports/**: å€‹åˆ¥å¸³è™ŸåŸ·è¡Œå ±å‘Šï¼ˆç›®å‰ç‰ˆæœ¬å·²åœç”¨ï¼‰
- **logs/**: åŸ·è¡Œæ—¥èªŒå’Œé™¤éŒ¯è³‡è¨Š
- **temp/**: æš«å­˜è™•ç†æª”æ¡ˆ

## é‡è¦å¯¦ä½œèªªæ˜

### é©—è­‰ç¢¼è™•ç†

**è‡ªå‹•è­˜åˆ¥æ©Ÿåˆ¶**ï¼š
- ç¨‹å¼ä½¿ç”¨ ddddocr å‡½å¼åº«è‡ªå‹•è­˜åˆ¥é»‘è²“å®…æ€¥ä¾¿ç™»å…¥é é¢çš„é©—è­‰ç¢¼
- æˆåŠŸè­˜åˆ¥å¾Œæœƒè‡ªå‹•å¡«å…¥ä¸¦ç™»å…¥

**æ‰‹å‹•è¼¸å…¥æ¨¡å¼**ï¼š
- ç„¡æ³•è‡ªå‹•è­˜åˆ¥æ™‚ï¼Œç¨‹å¼æœƒç­‰å¾…ä½¿ç”¨è€…æ‰‹å‹•è¼¸å…¥
- **é‡è¦**ï¼šèƒŒæ™¯æ¨¡å¼ï¼ˆ--headlessï¼‰ç„¡æ³•æ‰‹å‹•è¼¸å…¥ï¼Œå»ºè­°ä½¿ç”¨è¦–çª—æ¨¡å¼

**é‡è©¦æ©Ÿåˆ¶**ï¼š
- ç™»å…¥å¤±æ•—æœƒè‡ªå‹•é‡è©¦æœ€å¤š3æ¬¡
- æ¯æ¬¡é‡è©¦æœƒé‡æ–°è¼‰å…¥é é¢å’Œé‡æ–°è­˜åˆ¥é©—è­‰ç¢¼

### é€±æœŸå’ŒæœŸæ•¸ç®¡ç†

**PaymentScraper (è²¨åˆ°ä»˜æ¬¾)**ï¼š
- ä½¿ç”¨ `--period` åƒæ•¸æŒ‡å®šä¸‹è¼‰æœŸæ•¸
- è‡ªå‹•é¸æ“‡æœ€æ–°ä¸€æœŸæˆ–æŒ‡å®šæœŸæ•¸çš„çµç®—å€é–“

**UnpaidScraper (äº¤æ˜“æ˜ç´°è¡¨)**ï¼š
- ä½¿ç”¨ `--periods` åƒæ•¸æŒ‡å®šä¸‹è¼‰é€±æœŸæ•¸
- é è¨­ 2 å€‹é€±æœŸï¼Œæ¯é€±æœŸ 7 å¤©
- æª”æ¡ˆå‘½ååŒ…å«é–‹å§‹å’ŒçµæŸæ—¥æœŸ

**FreightScraper (é‹è²»æŸ¥è©¢)**ï¼š
- ä½¿ç”¨æ—¥æœŸç¯„åœæŸ¥è©¢ï¼ˆYYYYMMDD æ ¼å¼ï¼‰
- æ”¯æ´ `--start-date` å’Œ `--end-date` åƒæ•¸

### AJAX è™•ç†

UnpaidScraper å’Œ FreightScraper æ”¯æ´ AJAX æœå°‹ï¼š
- è‡ªå‹•å¡«å…¥æ—¥æœŸæ¬„ä½ï¼ˆtxtDateS, txtDateEï¼‰
- é»æ“Šæœå°‹æŒ‰éˆ•è§¸ç™¼ AJAX è«‹æ±‚
- ç­‰å¾…æœå°‹çµæœè¼‰å…¥å¾ŒåŸ·è¡Œä¸‹è¼‰

### éŒ¯èª¤è™•ç†å“²å­¸
å·¥å…·æ¡ç”¨ã€Œç¹¼çºŒåŸ·è¡Œã€æ–¹å¼ï¼Œå€‹åˆ¥å¤±æ•—ä¸æœƒåœæ­¢æ•´å€‹æµç¨‹ï¼š
- æ—¥æœŸè¨­å®šå¤±æ•—æœƒè¨˜éŒ„ä½†ä¸æœƒä¸­æ–·åŸ·è¡Œ
- æ‰¾ä¸åˆ°æŸ¥è©¢æŒ‰éˆ•æ™‚æœƒè·³éä¸¦é¡¯ç¤ºè­¦å‘Š
- å€‹åˆ¥å¸³è™Ÿå¤±æ•—ä¸æœƒå½±éŸ¿å…¶ä»–å¸³è™Ÿ

### å¤šå¸³è™Ÿè™•ç†
`MultiAccountManager` ä¾åºè™•ç†å¸³è™Ÿï¼Œä¸¦ç”¢ç”Ÿå–®ä¸€æ•´åˆå ±å‘Šè€Œéæ¯å€‹å¸³è™Ÿçš„å€‹åˆ¥å ±å‘Šï¼Œä»¥æ¸›å°‘è¼¸å‡ºé›œäº‚ã€‚

### ç¾ä»£åŒ–æ”¹é€²

**æ¨¡çµ„åŒ–æ¶æ§‹**ï¼š
- æ¡ç”¨ `src/` ç›®éŒ„çµæ§‹ï¼Œç¬¦åˆç¾ä»£ Python å°ˆæ¡ˆæ¨™æº–
- æ ¹ç›®éŒ„ä¸åŒ…å« Python æª”æ¡ˆï¼Œä¿æŒæ•´æ½”
- æ¸…æ™°çš„æ¨¡çµ„åˆ†é›¢ï¼šcoreï¼ˆæ ¸å¿ƒï¼‰ã€scrapersï¼ˆå¯¦ä½œï¼‰ã€utilsï¼ˆå·¥å…·ï¼‰

**ä¾è³´ç®¡ç†**ï¼š
- ç§»é™¤èˆŠçš„ `requirements.txt`ï¼Œçµ±ä¸€ä½¿ç”¨ `pyproject.toml` + `uv.lock`
- é¿å…ç‰ˆæœ¬è¡çªå’Œé‡è¤‡å®‰è£å•é¡Œ
- ä½¿ç”¨ `uv sync` ç¢ºä¿ä¾è³´ç‰ˆæœ¬ä¸€è‡´æ€§

**Windows ç›¸å®¹æ€§**ï¼š
- å¯¦ä½œ `safe_print()` å‡½æ•¸è™•ç† Unicode å­—ç¬¦é¡¯ç¤ºå•é¡Œ
- æ‰€æœ‰ Unicode å­—ç¬¦ï¼ˆå¦‚ âœ… âŒ ğŸ‰ï¼‰è‡ªå‹•è½‰æ›ç‚ºç´”æ–‡å­—æ¨™ç±¤
- ç¢ºä¿åœ¨ Windows å‘½ä»¤æç¤ºå­—å…ƒä¸­æ­£å¸¸é¡¯ç¤º

**åŸ·è¡Œè…³æœ¬å„ªåŒ–**ï¼š
- æä¾›è·¨å¹³å°åŸ·è¡Œè…³æœ¬ï¼ˆ.shã€.cmdã€.ps1ï¼‰
- .cmd æª”æ¡ˆè‡ªå‹•å•Ÿå‹• PowerShellï¼Œäº«å—æœ€ä½³é«”é©—
- æ™ºæ…§åŸ·è¡Œé †åºï¼šWindows Terminal > PowerShell 7 > èˆŠç‰ˆ PowerShell
- å®Œæ•´ UTF-8 æ”¯æ´å’Œå½©è‰²è¼¸å‡º
- ä½¿ç”¨å…±ç”¨æª¢æŸ¥å‡½æ•¸ (scripts/common_checks.ps1, scripts/common_checks.sh)
- è‡ªå‹•è¨­å®šå¿…è¦çš„ç’°å¢ƒè®Šæ•¸ï¼ˆPYTHONUNBUFFEREDã€PYTHONPATHï¼‰
- ç°¡åŒ–ä½¿ç”¨è€…åŸ·è¡Œæµç¨‹